---
title: "DC01 - Domain Controller"
permalink: /docs/machines/dc01/
---

# DC01 - Domain Controller

## Quick Info

| Property | Value |
|----------|-------|
| IP Address | 192.168.56.10 |
| Hostname | DC01 |
| OS | Windows Server 2022 |
| Role | Domain Controller, DNS Server |
| Domain | lab.local |

---

## Open Ports (Full Scan 2026-01-18)

| Port | State | Service | Version | Notes |
|------|-------|---------|---------|-------|
| 53 | open | DNS | Simple DNS Plus | Zone transfers? |
| 88 | open | Kerberos | Microsoft Windows Kerberos | **Kerberoasting target** |
| 135 | open | MSRPC | Microsoft Windows RPC | Enumeration |
| 139 | open | NetBIOS | netbios-ssn | Legacy |
| 389 | open | LDAP | AD LDAP | **User enumeration** |
| 445 | open | SMB | microsoft-ds | **Relay attacks, PSExec** |
| 464 | open | kpasswd5 | - | Password changes |
| 593 | open | RPC/HTTP | RPC over HTTP 1.0 | Tunneling |
| 636 | open | LDAPS | tcpwrapped | Secure LDAP |
| 3268 | open | Global Catalog | AD LDAP | Forest queries |
| 3269 | open | GC-SSL | tcpwrapped | Secure GC |
| 5985 | open | WinRM | HTTPAPI 2.0 | **Remote PowerShell** |
| 9389 | open | AD Web Svc | .NET Message Framing | - |
| 49664+ | open | MSRPC | Dynamic RPC ports | - |

---

## Attack Vectors to Try

- [ ] LDAP anonymous enumeration (port 389)
- [ ] Kerberoasting (port 88)
- [ ] AS-REP Roasting (port 88)
- [ ] SMB relay attacks (port 445)
- [ ] BloodHound enumeration
- [ ] DCSync attack (requires Domain Admin)
- [ ] WinRM access with Evil-WinRM (port 5985)

---

## Attack Log

| Date | Attack | Result | Notes |
|------|--------|--------|-------|
| 2026-01-18 | Nmap full scan | Success | 19 ports open |
| 2026-01-18 | LDAP user enum | Success | 6 accounts found |
| 2026-01-18 | CrackMapExec enum | Success | OS version, user list |
| 2026-01-18 | BloodHound collection | Success | Full domain data collected |

---

## Lessons Learned

- Domain Controllers expose many services by default
- Port 88 (Kerberos) is key target for credential attacks
- Port 5985 (WinRM) allows remote PowerShell if you have creds
- LDAP (389) requires authentication (anonymous blocked - good)
- ICMP is blocked but TCP connections work fine
